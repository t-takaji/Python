<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>練習用ぺージ</title>
    <meta name="description" content="">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
    let todoCount = 1;
        $(function () {
                countDown('2019/03/10 13:00:00', $('#toTOEIC'));
                countDown('2019/04/21 09:00:00', $('#toAP'));
                setInterval(function () {
                    countDown('2019/03/10 13:00:00', $('#toTOEIC'));
                    countDown('2019/04/21 09:00:00', $('#toAP'));
                }, 1000);
                $('#addTodo').click(function () {
                    $('#todo').append('<div id="todoList-'+todoCount+'"><input type="checkbox" />&nbsp;&nbsp;<input type="text" /></div>');
                    todoCount++;
                });
                $('#deleteTodo').click(function(){
                    $('#todo').children('div:last').remove();
                })
            });
            function addZero(num) {
                return ('0' + num).slice(-2);
            }
            function countDown(target, element) {
                let testDay = new Date(target);
                let timer = '';
                let today = new Date();
                let day = Math.floor((testDay - today) / (24 * 60 * 60 * 1000));
                let hour = Math.floor(((testDay - today) % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
                let min = Math.floor(((testDay - today) % (24 * 60 * 60 * 1000)) / (60 * 1000)) % 60;
                let sec = Math.floor(((testDay - today) % (24 * 60 * 60 * 1000)) / 1000) % 60 % 60;
                if ((testDay - today) > 0) {
                    if (day) timer += '<span class="day">' + day + '</span>日';
                    if (hour) timer += '<span class="hour">' + hour + '</span>時間';
                    timer += '<span class="min">' + addZero(min) + '</span>分<span class="sec">' + addZero(sec) + '</span>秒';
                    element.html(timer);
                }
            }
    </script>
    <style>
        .day {
            color:red;
        }
        .hour {
            color: red;
        }
        .min {
            color: red;
        }
        .sec {
            color: red;
        }
        div {
            padding-top: 10px;
        }
    </style>
</head>

<body>
    TOEIC Listening & Reading Test（第238回）まで残り
    <span id="toTOEIC"></span><br/>
    応用情報技術者試験まで残り
    <span id="toAP"></span>

    <h3>TODOリスト&nbsp;&nbsp;<input type="button" id="addTodo" value="追加する" />&nbsp;&nbsp;<input type="button" id="deleteTodo" value="削除する" /></h3>
    <span id="todo"></span>
</body>

</html>
